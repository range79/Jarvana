{"ast":null,"code":"import React,{useState,useCallback}from'react';import{Upload,File,X}from'lucide-react';import{cn}from'../utils/cn';import Button from'./ui/Button';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileUpload=_ref=>{let{onUpload,loading=false,acceptedFileTypes=['.jar']}=_ref;const[isDragOver,setIsDragOver]=useState(false);const[selectedFile,setSelectedFile]=useState(null);const handleDragOver=useCallback(e=>{e.preventDefault();setIsDragOver(true);},[]);const handleDragLeave=useCallback(e=>{e.preventDefault();setIsDragOver(false);},[]);const handleDrop=useCallback(e=>{e.preventDefault();setIsDragOver(false);const files=Array.from(e.dataTransfer.files);if(files.length>0){const file=files[0];if(acceptedFileTypes.some(type=>file.name.endsWith(type))){setSelectedFile(file);onUpload(file);}}},[acceptedFileTypes,onUpload]);const handleFileSelect=useCallback(e=>{const files=e.target.files;if(files&&files.length>0){const file=files[0];setSelectedFile(file);onUpload(file);}},[onUpload]);const handleRemoveFile=useCallback(()=>{setSelectedFile(null);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:!selectedFile?/*#__PURE__*/_jsxs(\"div\",{className:cn('border-2 border-dashed rounded-lg p-8 text-center transition-colors',isDragOver?'border-primary-400 bg-primary-50':'border-gray-300 hover:border-gray-400',loading&&'opacity-50 pointer-events-none'),onDragOver:handleDragOver,onDragLeave:handleDragLeave,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(Upload,{className:\"mx-auto h-12 w-12 text-gray-400 mb-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium text-gray-900\",children:\"Upload JAR File\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Drag and drop your JAR file here, or click to browse\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-400\",children:[\"Supported formats: \",acceptedFileTypes.join(', ')]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:acceptedFileTypes.join(','),onChange:handleFileSelect,className:\"hidden\",id:\"file-upload\",disabled:loading}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",className:\"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 cursor-pointer transition-colors\",children:\"Choose File\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg p-4 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(File,{className:\"h-8 w-8 text-primary-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:selectedFile.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[(selectedFile.size/1024).toFixed(2),\" KB\"]})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"sm\",onClick:handleRemoveFile,disabled:loading,children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]})})});};export default FileUpload;","map":{"version":3,"names":["React","useState","useCallback","Upload","File","X","cn","Button","jsx","_jsx","jsxs","_jsxs","FileUpload","_ref","onUpload","loading","acceptedFileTypes","isDragOver","setIsDragOver","selectedFile","setSelectedFile","handleDragOver","e","preventDefault","handleDragLeave","handleDrop","files","Array","from","dataTransfer","length","file","some","type","name","endsWith","handleFileSelect","target","handleRemoveFile","className","children","onDragOver","onDragLeave","onDrop","join","accept","onChange","id","disabled","htmlFor","size","toFixed","variant","onClick"],"sources":["/home/range/workdir/Jarvana/frontend/src/components/FileUpload.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Upload, File, X } from 'lucide-react';\nimport { cn } from '../utils/cn';\nimport Button from './ui/Button';\n\ninterface FileUploadProps {\n  onUpload: (file: File) => void;\n  loading?: boolean;\n  acceptedFileTypes?: string[];\n}\n\nconst FileUpload: React.FC<FileUploadProps> = ({\n  onUpload,\n  loading = false,\n  acceptedFileTypes = ['.jar']\n}) => {\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n    \n    const files = Array.from(e.dataTransfer.files);\n    if (files.length > 0) {\n      const file = files[0];\n      if (acceptedFileTypes.some(type => file.name.endsWith(type))) {\n        setSelectedFile(file);\n        onUpload(file);\n      }\n    }\n  }, [acceptedFileTypes, onUpload]);\n\n  const handleFileSelect = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (files && files.length > 0) {\n      const file = files[0];\n      setSelectedFile(file);\n      onUpload(file);\n    }\n  }, [onUpload]);\n\n  const handleRemoveFile = useCallback(() => {\n    setSelectedFile(null);\n  }, []);\n\n  return (\n    <div className=\"w-full\">\n      {!selectedFile ? (\n        <div\n          className={cn(\n            'border-2 border-dashed rounded-lg p-8 text-center transition-colors',\n            isDragOver\n              ? 'border-primary-400 bg-primary-50'\n              : 'border-gray-300 hover:border-gray-400',\n            loading && 'opacity-50 pointer-events-none'\n          )}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          onDrop={handleDrop}\n        >\n          <Upload className=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\n          <div className=\"space-y-2\">\n            <p className=\"text-lg font-medium text-gray-900\">\n              Upload JAR File\n            </p>\n            <p className=\"text-sm text-gray-500\">\n              Drag and drop your JAR file here, or click to browse\n            </p>\n            <p className=\"text-xs text-gray-400\">\n              Supported formats: {acceptedFileTypes.join(', ')}\n            </p>\n          </div>\n          <input\n            type=\"file\"\n            accept={acceptedFileTypes.join(',')}\n            onChange={handleFileSelect}\n            className=\"hidden\"\n            id=\"file-upload\"\n            disabled={loading}\n          />\n          <label\n            htmlFor=\"file-upload\"\n            className=\"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 cursor-pointer transition-colors\"\n          >\n            Choose File\n          </label>\n        </div>\n      ) : (\n        <div className=\"border rounded-lg p-4 bg-gray-50\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <File className=\"h-8 w-8 text-primary-600\" />\n              <div>\n                <p className=\"font-medium text-gray-900\">{selectedFile.name}</p>\n                <p className=\"text-sm text-gray-500\">\n                  {(selectedFile.size / 1024).toFixed(2)} KB\n                </p>\n              </div>\n            </div>\n            <Button\n              variant=\"secondary\"\n              size=\"sm\"\n              onClick={handleRemoveFile}\n              disabled={loading}\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FileUpload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}