{"ast":null,"code":"import React,{useState}from'react';import Layout from'./components/Layout';import FileUpload from'./components/FileUpload';import JarList from'./components/JarList';import ExecutionMonitor from'./components/ExecutionMonitor';import{Card,CardContent,CardHeader}from'./components/ui/Card';import{jarApi}from'./services/api';import{Upload,CheckCircle,AlertCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[activeTab,setActiveTab]=useState('upload');const[selectedJar,setSelectedJar]=useState(null);const[uploadStatus,setUploadStatus]=useState({loading:false,success:false,error:null});const[refreshTrigger,setRefreshTrigger]=useState(0);const handleFileUpload=async file=>{setUploadStatus({loading:true,success:false,error:null});try{await jarApi.upload(file);setUploadStatus({loading:false,success:true,error:null});// Refresh the JAR list\nsetRefreshTrigger(prev=>prev+1);// Switch to files tab after successful upload\nsetTimeout(()=>{setActiveTab('files');setUploadStatus({loading:false,success:false,error:null});},2000);}catch(error){setUploadStatus({loading:false,success:false,error:'Failed to upload file. Please try again.'});}};const handleJarSelect=jar=>{setSelectedJar(jar);setActiveTab('monitor');};const renderContent=()=>{switch(activeTab){case'upload':return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Upload,{className:\"h-6 w-6 text-primary-600\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Upload JAR File\"})]})}),/*#__PURE__*/_jsx(CardContent,{children:uploadStatus.success?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"mx-auto h-12 w-12 text-success-600 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Upload Successful!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Your JAR file has been uploaded successfully.\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FileUpload,{onUpload:handleFileUpload,loading:uploadStatus.loading}),uploadStatus.error&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-4 bg-danger-50 border border-danger-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-danger-600\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-danger-700\",children:uploadStatus.error})]})})]})})]})});case'files':return/*#__PURE__*/_jsx(JarList,{onJarSelect:handleJarSelect,refreshTrigger:refreshTrigger});case'monitor':return/*#__PURE__*/_jsx(ExecutionMonitor,{jarId:selectedJar===null||selectedJar===void 0?void 0:selectedJar.id,onClose:()=>setActiveTab('files')});case'settings':return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Settings\"})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"API Configuration\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"API Base URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:\"http://localhost:8080\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\",readOnly:true})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Application Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Version:\"}),\" 1.0.0\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Environment:\"}),\" Development\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Backend Status:\"}),\" Connected\"]})]})]})]})})]})});default:return null;}};return/*#__PURE__*/_jsx(Layout,{activeTab:activeTab,onTabChange:setActiveTab,children:renderContent()});}export default App;","map":{"version":3,"names":["React","useState","Layout","FileUpload","JarList","ExecutionMonitor","Card","CardContent","CardHeader","jarApi","Upload","CheckCircle","AlertCircle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","activeTab","setActiveTab","selectedJar","setSelectedJar","uploadStatus","setUploadStatus","loading","success","error","refreshTrigger","setRefreshTrigger","handleFileUpload","file","upload","prev","setTimeout","handleJarSelect","jar","renderContent","className","children","onUpload","onJarSelect","jarId","id","onClose","type","defaultValue","readOnly","onTabChange"],"sources":["/home/range/workdir/Jarvana/frontend/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Layout from './components/Layout';\nimport FileUpload from './components/FileUpload';\nimport JarList from './components/JarList';\nimport ExecutionMonitor from './components/ExecutionMonitor';\nimport { Card, CardContent, CardHeader } from './components/ui/Card';\nimport { JarMetadataDto } from './types/api';\nimport { jarApi } from './services/api';\nimport { Upload, CheckCircle, AlertCircle } from 'lucide-react';\n\nfunction App() {\n  const [activeTab, setActiveTab] = useState('upload');\n  const [selectedJar, setSelectedJar] = useState<JarMetadataDto | null>(null);\n  const [uploadStatus, setUploadStatus] = useState<{\n    loading: boolean;\n    success: boolean;\n    error: string | null;\n  }>({\n    loading: false,\n    success: false,\n    error: null,\n  });\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n\n  const handleFileUpload = async (file: File) => {\n    setUploadStatus({\n      loading: true,\n      success: false,\n      error: null,\n    });\n\n    try {\n      await jarApi.upload(file);\n      setUploadStatus({\n        loading: false,\n        success: true,\n        error: null,\n      });\n      // Refresh the JAR list\n      setRefreshTrigger(prev => prev + 1);\n      // Switch to files tab after successful upload\n      setTimeout(() => {\n        setActiveTab('files');\n        setUploadStatus({\n          loading: false,\n          success: false,\n          error: null,\n        });\n      }, 2000);\n    } catch (error) {\n      setUploadStatus({\n        loading: false,\n        success: false,\n        error: 'Failed to upload file. Please try again.',\n      });\n    }\n  };\n\n  const handleJarSelect = (jar: JarMetadataDto) => {\n    setSelectedJar(jar);\n    setActiveTab('monitor');\n  };\n\n  const renderContent = () => {\n    switch (activeTab) {\n      case 'upload':\n        return (\n          <div className=\"max-w-2xl mx-auto\">\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center space-x-3\">\n                  <Upload className=\"h-6 w-6 text-primary-600\" />\n                  <h2 className=\"text-xl font-semibold text-gray-900\">\n                    Upload JAR File\n                  </h2>\n                </div>\n              </CardHeader>\n              <CardContent>\n                {uploadStatus.success ? (\n                  <div className=\"text-center py-8\">\n                    <CheckCircle className=\"mx-auto h-12 w-12 text-success-600 mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                      Upload Successful!\n                    </h3>\n                    <p className=\"text-gray-500\">\n                      Your JAR file has been uploaded successfully.\n                    </p>\n                  </div>\n                ) : (\n                  <>\n                    <FileUpload\n                      onUpload={handleFileUpload}\n                      loading={uploadStatus.loading}\n                    />\n                    {uploadStatus.error && (\n                      <div className=\"mt-4 p-4 bg-danger-50 border border-danger-200 rounded-lg\">\n                        <div className=\"flex items-center space-x-2\">\n                          <AlertCircle className=\"h-5 w-5 text-danger-600\" />\n                          <p className=\"text-danger-700\">{uploadStatus.error}</p>\n                        </div>\n                      </div>\n                    )}\n                  </>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        );\n\n      case 'files':\n        return (\n          <JarList\n            onJarSelect={handleJarSelect}\n            refreshTrigger={refreshTrigger}\n          />\n        );\n\n      case 'monitor':\n        return (\n          <ExecutionMonitor\n            jarId={selectedJar?.id}\n            onClose={() => setActiveTab('files')}\n          />\n        );\n\n      case 'settings':\n        return (\n          <div className=\"max-w-2xl mx-auto\">\n            <Card>\n              <CardHeader>\n                <h2 className=\"text-xl font-semibold text-gray-900\">\n                  Settings\n                </h2>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-6\">\n                  <div>\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                      API Configuration\n                    </h3>\n                    <div className=\"space-y-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                          API Base URL\n                        </label>\n                        <input\n                          type=\"text\"\n                          defaultValue=\"http://localhost:8080\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                          readOnly\n                        />\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                      Application Info\n                    </h3>\n                    <div className=\"space-y-2 text-sm text-gray-600\">\n                      <p><strong>Version:</strong> 1.0.0</p>\n                      <p><strong>Environment:</strong> Development</p>\n                      <p><strong>Backend Status:</strong> Connected</p>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <Layout activeTab={activeTab} onTabChange={setActiveTab}>\n      {renderContent()}\n    </Layout>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}